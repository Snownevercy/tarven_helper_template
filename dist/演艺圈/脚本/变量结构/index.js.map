{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/演艺圈/schema.ts","src://tavern_helper_template/src/演艺圈/脚本/变量结构/index.ts"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = z;","export const Schema = z.object({\n    // --- 世界环境 ---\n    世界: z.object({\n        当前日期: z.string().prefault('待定'),\n        当前地点: z.string().prefault('待定'),\n        时代新闻: z.string().prefault('待定'),\n        行业新闻: z.string().prefault('待定'),\n        八卦新闻: z.string().prefault('待定'),\n    }),\n    // --- 主角档案 ---\n    主角: z.object({\n        姓名: z.string().prefault('待定'),\n        性别: z.string().prefault('待定'),\n        国籍: z.string().prefault('待定'),\n        生日: z.string().prefault('待定'),\n        _年龄: z.coerce.number().prefault(0),\n        外貌: z.string().prefault('待定'),\n        职业: z.string().prefault('待定'),\n        性癖: z.string().prefault('无'),\n        配偶: z.string().prefault('无'),\n        子女: z.string().prefault('无'),\n        情人: z.string().prefault('无'),\n    }),\n    // --- 职业履历 ---\n    职业履历: z.object({\n        作品名: z.array(z.string()).prefault([]),\n        获取奖项: z.array(z.string()).prefault([]),\n    }),\n    // --- 行业评估 ---\n    专业评估: z.object({\n        当前咖位: z.string().prefault('无'),\n        业务能力: z.string().prefault('无'),\n        媒体风向: z.string().prefault('无'),\n        社会风评: z.string().prefault('无'),\n        粉丝基础: z.string().prefault('无'),\n    }),\n    //--- 个人账户 ---\n    个人账户: z\n        .object({\n        现金: z.coerce.number().prefault(0),\n        合约状态: z.string().prefault('无'),\n        // 修正：资产量化\n        持有资产: z\n            .record(z.string(), z.object({\n            数量: z.coerce.number().prefault(0),\n        }))\n            .prefault({})\n            .describe('Key:资产名称'),\n    })\n        .prefault({}),\n    //--- 公司账户 ---\n    公司账户: z\n        .object({\n        // 运行项目：记录公司正在运营的业务线/产品线，用于计算经营性收入（月毛利由脚本计算）\n        运行项目: z\n            .record(z.string().describe('业务线名称'), z.object({\n            月销量: z.coerce.number().prefault(0).describe('月销量/月活'),\n            单价: z.coerce.number().prefault(0).describe('单价/ARPU'),\n            边际成本率: z.coerce\n                .number()\n                .transform(v => _.clamp(v, 0, 1))\n                .prefault(0.5),\n            _月毛利: z.coerce.number().prefault(0).describe('由脚本计算：月销量 * 单价 * (1 - 边际成本率)'),\n        }))\n            .prefault({})\n            .describe('公司正在运营的业务线/产品线，用于计算经营性收入'),\n        固定成本: z\n            .object({\n            人力成本: z.coerce.number().prefault(0),\n            房租: z.coerce.number().prefault(0),\n        })\n            .prefault({}),\n        公账一次性变动: z.coerce\n            .number()\n            .prefault(0)\n            .describe('非经营性资金流动，主营业务收入不计入（正数=收入，负数=支出）'),\n        _现金: z.coerce.number().prefault(0),\n    })\n        .prefault({}),\n    // --- 社交网络 ---\n    人脉: z.object({\n        社交版图: z.array(z.string()).prefault(['无']),\n        近期互动: z.array(z.string()).describe('最近有过关键交互的人').prefault(['无']),\n        关系簿: z.record(z.string(), z.coerce.number()).prefault({}),\n    }),\n    // --- 特殊机制 ---\n    蝴蝶效应: z.object({\n        已抹除列表: z.record(z.string(), z.string().describe('原作者')).prefault({}),\n    }),\n});\n","import { registerMvuSchema } from 'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';\nimport { Schema } from '../../schema';\n\n$(() => {\n  registerMvuSchema(Schema);\n});\n"],"names":["z","Schema","object","string","prefault","coerce","number","array","record","describe","transform","v","_","clamp","$"],"ignoreList":[],"sourceRoot":""}